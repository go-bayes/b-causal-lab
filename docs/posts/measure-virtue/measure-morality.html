<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.253">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Joseph Bulbulia">

<title>b-causal-lab draft research - On the Measurement of Virtue using National-scale Panel Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">b-causal-lab draft research</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/go-bayes"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/prof_joe_"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">On the Measurement of Virtue using National-scale Panel Data</h1>
                      </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-heading"></div>
    
      <div class="quarto-title-meta-contents">
      Joseph Bulbulia <a href="https://orcid.org/0000-0002-5861-2056" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a>
    </div>
      <div class="quarto-title-meta-contents">
          <p class="affiliation">
              Victoria University of Wellington, New Zealand
            </p>
        </div>
      </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">11/2/22</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#objections-to-virtue-science" id="toc-objections-to-virtue-science" class="nav-link" data-scroll-target="#objections-to-virtue-science">Objections to virtue science</a></li>
  <li><a href="#responses-to-objections" id="toc-responses-to-objections" class="nav-link" data-scroll-target="#responses-to-objections">Responses to objections</a></li>
  <li><a href="#christchurh-earthquake-example." id="toc-christchurh-earthquake-example." class="nav-link" data-scroll-target="#christchurh-earthquake-example.">Christchurh Earthquake example.</a></li>
  <li><a href="#the-practical-interest-of-longitudinal-virtue-science-for-different-audiences" id="toc-the-practical-interest-of-longitudinal-virtue-science-for-different-audiences" class="nav-link" data-scroll-target="#the-practical-interest-of-longitudinal-virtue-science-for-different-audiences">The practical interest of longitudinal virtue science for different audiences</a>
  <ul class="collapse">
  <li><a href="#interest-for-human-scientists" id="toc-interest-for-human-scientists" class="nav-link" data-scroll-target="#interest-for-human-scientists">Interest for human scientists</a></li>
  <li><a href="#interest-for-theologians" id="toc-interest-for-theologians" class="nav-link" data-scroll-target="#interest-for-theologians">Interest for theologians</a></li>
  <li><a href="#interest-for-teachers-and-clergy" id="toc-interest-for-teachers-and-clergy" class="nav-link" data-scroll-target="#interest-for-teachers-and-clergy">Interest for teachers and clergy</a></li>
  </ul></li>
  <li><a href="#conclusions" id="toc-conclusions" class="nav-link" data-scroll-target="#conclusions">Conclusions</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Religious traditions span the full bandwidth of human diversity. Despite their differences nearly all religious traditions agree that life’s greatest goods come from virtuous living. Moreover, religious traditions hold that the practice of religion is itself a virtue. For example, in classical Christian thought, the religion is a virtue of justice, consisting of acts and prayers, that appropriately acknowledges God as the source of our existence and continuance <span class="citation" data-cites="aquinas1702">(<a href="#ref-aquinas1702" role="doc-biblioref">Aquinas 1702</a>)</span>. Might the causes and consequences of virtuous living form the object of scientific inquiry? And if so, for whom might such a science prove interesting?</p>
<p>This article has three objectives.</p>
<p>First, I consider credible objections to the proposal that the causes and consequences of virtuous living can form the objects of scientific study.</p>
<!-- If the cultivation of virtue, including the virtue of religion, indeed makes life good, and if the good in life is apparent, then in theory the causes and consequences of virtue should be observable and amenable to scientific study. -->
<p>Second, I argue for a pragmatic position that (1) accepts the credible objections against a scientific study of virtue ; (2) remains open to the possibility that the scientific study of virtue may prove interesting, and even edifying, for both scientific and religious audiences.</p>
<p>Finally, I reflect on specifically how the scientific study of virtue might prove interesting or even edifying to scientific and religious audiences.</p>
<p>I will restrict my interest to to the promise, and perils, of national-scale longitudinal psychology. I focus on longitudional psychology because it is the science I know best through my experiences as a researcher for the New Zealand Attitudes and Values Study (<a href="https://www.psych.auckland.ac.nz/en/about/new-zealand-attitudes-and-values-study.html">NZAVS</a>).</p>
</section>
<section id="objections-to-virtue-science" class="level2">
<h2 class="anchored" data-anchor-id="objections-to-virtue-science">Objections to virtue science</h2>
<p>Consider the following credible objections against a psychological science of virtue.</p>
<p>The first credible to the psychological science of virtue is conceptual. Psychological scientists study how people think and behave. However, in classical philosophical and religious reflection, virtue is presented as a skill. As such, virtue is subject both to deficiencies and excesses. For example, Aristotle held that deficiency in the virtue of courage is cowardice and the excess in the virtue of courage is rashness. Aristotle also held that deficiency in the virtue of temperance is indulgence and its excess is insensibility <span class="citation" data-cites="pakaluk2005">(<a href="#ref-pakaluk2005" role="doc-biblioref">Pakaluk 2005</a>)</span>. If virtue is a skill, to perceive virtue would require, at least in some cases, to possess the virtue. Consider an analogy to music. To assess the quality of a jazz musician requires competence in the genre of Jazz. Although we may study jazz from a behavioral or cognitive perspective such a study would not carry us to an appreciation of excellence in the genre. Similarly, it is unclear how the scientific study of human thought and behavior would carry us to an appreciation of moral excellence. A rash scientist might judge rash behavior as courageous. If religion is indeed a virtue, one that is prone to excesses and deficiencies, then the qualities that distinguish the virtue of religion from, say, the vices of idolatry or indifference, might not be available to scientific inquiry.</p>
<p>A second credible challenge to the psychological science of virtue is practical. Suppose that virtue is not hidden to science. Nevertheless, it is credible that we might not be able to describe virtue in a language of scientific measurement. William James writes, “Philosophy lives in words, but truth and fact well up into our lives in ways that exceed verbal formulation. There is in the living act of perception always something that glimmers and twinkles and will not be caught, and for which reflection comes too late” <span class="citation" data-cites="james1902">(<a href="#ref-james1902" role="doc-biblioref">James 1902, 456–57</a>)</span>. A similar observation might be made about the scientific study of virtue. Is the recognition of virtue something that can be characterised in the language of science? If virtue pertains to experiences that are poorly represented in human language, it would seem that science will inevitably misconceive the experiential qualities of virtue as it is experienced.</p>
<p>A third credible challenge to the psychological science of virtue relates to the scope of psychological science. The gold standard for research design in psychological science is an idealised “random experiment.” Assignment to a treatment condition or a control condition is by change. An average response is taken withing groups. If the average response differs by condition, we say that the treatment has a causal effect. As mentioned, the inference one obtains from a randomised experiment pertains to the <em>average</em> response. Unless the population is homogenous in its response, there will be those individuals who respond higher as well as those that respond lower than average <span class="citation" data-cites="bulbulia2022 hernan2023">(<a href="#ref-bulbulia2022" role="doc-biblioref">Bulbulia 2022</a>; <a href="#ref-hernan2023" role="doc-biblioref">Hernan and Robins 2023</a>)</span>. Although the average response is the Holy Grail of psychological science, teachers and students of virtue typically want to know what works for specific individuals. It would therefore seem that the psychological science of virtue holds limited practical interest.</p>
<p>Notice that I did not consider the objection that science assumes that virtue is unreal. I will return to this consideration below.</p>
</section>
<section id="responses-to-objections" class="level2">
<h2 class="anchored" data-anchor-id="responses-to-objections">Responses to objections</h2>
<p>I describe the preceding objections to a psychological science of virtue as “credible” because they are persuasive and we should believe them. A psychological science of virtue must begin with a sober appreciation of what the science cannot deliver.</p>
<p>First, a psychological science of virtue cannot substitute for the cultivation of virtue. Just as a medical doctor need not be physically fit to heal, so too psychological scientists need not be virtuous to study virtue. Longitudinal psychology measures people over time. It systematically investigates how beliefs and habits affect people. However, a researcher can no more lay claim to asserting virtue than a tap recorder can lay claim to musical virtuosity. Once recorded, however, it might be possible for musical experts to spot virtuosity.</p>
<p>Second, we must appreciate that psychological science of virtue is limited in the scope of knowledge that it can afford. However, knowledge may grow without reaching its limit. We would set too high an expectation on science if we to require that it captures more than a small fraction of what makes virtue worthwhile.</p>
<p>Third, we must recognise that longitudinal psychological science investigates average effects in populations. There is no psychological science of individual-level causes and effects. Teachers and students of virtues should indeed be weary of thoughtlessly applying the results of any scientific study of virtue to some practical task. However, here again the average response might nevertheless prove interesting and afford some guidance. For example, we know that on average medically approved vaccines help more people than they harm. Some unlucky people will suffer worse harms from taking vaccine that they would have had they abstained. Nevertheless, must of us will hedge our bets, noticing that a far greater number of people are harmed from abstaining. We roll the dice, but the dice are loaded in our favor. It remains an open question whether the study of average effects might prove useful.</p>
<p>If the arguments against a psychological science of virtue are taken as sensible limitations on the boundaries of what it might deliver, I believe that the psychological science of virtue can be interesting and indeed edifying. To make this case it is useful to describe how a psychological science of virtue might work.</p>
</section>
<section id="christchurh-earthquake-example." class="level2">
<h2 class="anchored" data-anchor-id="christchurh-earthquake-example.">Christchurh Earthquake example.</h2>
</section>
<section id="the-practical-interest-of-longitudinal-virtue-science-for-different-audiences" class="level2">
<h2 class="anchored" data-anchor-id="the-practical-interest-of-longitudinal-virtue-science-for-different-audiences">The practical interest of longitudinal virtue science for different audiences</h2>
<section id="interest-for-human-scientists" class="level3">
<h3 class="anchored" data-anchor-id="interest-for-human-scientists">Interest for human scientists</h3>
<p>Virtue as the topic for health.</p>
</section>
<section id="interest-for-theologians" class="level3">
<h3 class="anchored" data-anchor-id="interest-for-theologians">Interest for theologians</h3>
<p>Good theology begins with facts.</p>
</section>
<section id="interest-for-teachers-and-clergy" class="level3">
<h3 class="anchored" data-anchor-id="interest-for-teachers-and-clergy">Interest for teachers and clergy</h3>
<p>Averages can be useful. Science broadens experience beyond the particulars.</p>
</section>
</section>
<section id="conclusions" class="level2">
<h2 class="anchored" data-anchor-id="conclusions">Conclusions</h2>
</section>
<section id="references" class="level2">




</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-aquinas1702" class="csl-entry" role="doc-biblioentry">
Aquinas, Thomas. 1702. <em>Summa theologica</em>. J. Mentelin.
</div>
<div id="ref-bulbulia2022" class="csl-entry" role="doc-biblioentry">
Bulbulia, Joseph A. 2022. <span>“A Workflow for Causal Inference in Cross-Cultural Psychology.”</span> <em>Religion, Brain &amp; Behavior</em> 0 (0): 1–16. <a href="https://doi.org/10.1080/2153599X.2022.2070245">https://doi.org/10.1080/2153599X.2022.2070245</a>.
</div>
<div id="ref-hernan2023" class="csl-entry" role="doc-biblioentry">
Hernan, M. A., and J. M. Robins. 2023. <em>Causal Inference</em>. Chapman &amp; Hall/CRC Monographs on Statistics &amp; Applied Probab. Taylor &amp; Francis. <a href="https://books.google.co.nz/books?id=\_KnHIAAACAAJ">https://books.google.co.nz/books?id=\_KnHIAAACAAJ</a>.
</div>
<div id="ref-james1902" class="csl-entry" role="doc-biblioentry">
James, William. 1902. <em>The Varieties of Religious Experience: A Study in Human Nature : Being the Gifford Lectures on Natural Religion Delivered at Edinburgh in 1901-1902</em>. Longmans, Green.
</div>
<div id="ref-pakaluk2005" class="csl-entry" role="doc-biblioentry">
Pakaluk, Michael. 2005. <em>Aristotle’s Nicomachean Ethics [Electronic Resource]</em>. Cambridge University Press.
</div>
</div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><div>CC BY-NC-SA</div></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{bulbulia2022,
  author = {Joseph Bulbulia},
  title = {On the {Measurement} of {Virtue} Using {National-scale}
    {Panel} {Data}},
  date = {2022-11-02},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-bulbulia2022" class="csl-entry quarto-appendix-citeas" role="doc-biblioentry">
Joseph Bulbulia. 2022. <span>“On the Measurement of Virtue Using
National-Scale Panel Data.”</span> November 2, 2022.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>